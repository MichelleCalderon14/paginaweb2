{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../shared/noticias.service\";\nimport * as i2 from \"@angular/forms\";\nexport let AdminNoticiasCreatePage = /*#__PURE__*/(() => {\n  var _staticBlock;\n  class AdminNoticiasCreatePage {\n    constructor(srv) {\n      this.srv = srv;\n      this.titulo = '';\n      this.texto = '';\n      this.fecha = '';\n      this.imagenB64 = '';\n    }\n    onFile(ev) {\n      const f = ev.target.files?.[0];\n      if (!f) return;\n      const r = new FileReader();\n      r.onload = () => this.imagenB64 = r.result;\n      r.readAsDataURL(f);\n    }\n    crear() {\n      if (!this.titulo.trim() || !this.texto.trim()) {\n        alert('Falta título o texto');\n        return;\n      }\n      this.srv.crear({\n        titulo: this.titulo,\n        texto: this.texto,\n        imagen: this.imagenB64,\n        fecha: this.fecha || undefined\n      }).subscribe(() => {\n        alert('Noticia creada ✔');\n        this.titulo = '';\n        this.texto = '';\n        this.fecha = '';\n        this.imagenB64 = '';\n      });\n    }\n    static #_ = _staticBlock = () => (this.ɵfac = function AdminNoticiasCreatePage_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || AdminNoticiasCreatePage)(i0.ɵɵdirectiveInject(i1.NoticiasService));\n    }, this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AdminNoticiasCreatePage,\n      selectors: [[\"app-admin-noticias-create\"]],\n      decls: 24,\n      vars: 3,\n      consts: [[1, \"h4\", \"mb-3\"], [1, \"card\", \"shadow-sm\"], [1, \"card-body\"], [1, \"mb-2\"], [1, \"form-label\"], [1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"rows\", \"4\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [1, \"mb-2\", \"row\"], [1, \"col\"], [\"type\", \"file\", 1, \"form-control\", 3, \"change\"], [\"type\", \"date\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [1, \"d-grid\"], [1, \"btn\", \"btn-success\", 3, \"click\"]],\n      template: function AdminNoticiasCreatePage_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"h2\", 0);\n          i0.ɵɵtext(1, \"Crear noticia\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(2, \"div\", 1)(3, \"div\", 2)(4, \"div\", 3)(5, \"label\", 4);\n          i0.ɵɵtext(6, \"T\\u00EDtulo*\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"input\", 5);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function AdminNoticiasCreatePage_Template_input_ngModelChange_7_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.titulo, $event) || (ctx.titulo = $event);\n            return $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(8, \"div\", 3)(9, \"label\", 4);\n          i0.ɵɵtext(10, \"Texto*\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(11, \"textarea\", 6);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function AdminNoticiasCreatePage_Template_textarea_ngModelChange_11_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.texto, $event) || (ctx.texto = $event);\n            return $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(12, \"div\", 7)(13, \"div\", 8)(14, \"label\", 4);\n          i0.ɵɵtext(15, \"Imagen (subir)\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(16, \"input\", 9);\n          i0.ɵɵlistener(\"change\", function AdminNoticiasCreatePage_Template_input_change_16_listener($event) {\n            return ctx.onFile($event);\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(17, \"div\", 8)(18, \"label\", 4);\n          i0.ɵɵtext(19, \"Fecha\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(20, \"input\", 10);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function AdminNoticiasCreatePage_Template_input_ngModelChange_20_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.fecha, $event) || (ctx.fecha = $event);\n            return $event;\n          });\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(21, \"div\", 11)(22, \"button\", 12);\n          i0.ɵɵlistener(\"click\", function AdminNoticiasCreatePage_Template_button_click_22_listener() {\n            return ctx.crear();\n          });\n          i0.ɵɵtext(23, \"Crear noticia\");\n          i0.ɵɵelementEnd()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(7);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.titulo);\n          i0.ɵɵadvance(4);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.texto);\n          i0.ɵɵadvance(9);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.fecha);\n        }\n      },\n      dependencies: [CommonModule, FormsModule, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgModel],\n      encapsulation: 2\n    }));\n  }\n  _staticBlock();\n  return AdminNoticiasCreatePage;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}