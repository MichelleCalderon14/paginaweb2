{"ast":null,"code":"import { DOCUMENT } from '@angular/common';\nimport * as i0 from \"@angular/core\";\nexport let ThemeService = /*#__PURE__*/(() => {\n  var _staticBlock;\n  class ThemeService {\n    constructor(doc) {\n      this.doc = doc;\n      this.dark = false;\n      this.text = '#212529';\n      this.scale = 1; // 1 = 100%\n      this.load();\n      this.apply();\n    }\n    // === Acciones públicas ===\n    toggleDark() {\n      this.dark = !this.dark;\n      this.apply();\n      this.persist();\n    }\n    setTextColor(hex) {\n      if (!/^#([0-9a-f]{3}){1,2}$/i.test(hex)) return;\n      this.text = hex;\n      this.apply();\n      this.persist();\n    }\n    incFont() {\n      this.setScale(this.scale + 0.1);\n    }\n    decFont() {\n      this.setScale(this.scale - 0.1);\n    }\n    reset() {\n      this.dark = false;\n      this.text = '#212529';\n      this.scale = 1;\n      this.apply();\n      this.persist();\n    }\n    // === Internos ===\n    setScale(v) {\n      this.scale = Math.max(0.8, Math.min(1.6, Number(v.toFixed(2))));\n      this.apply();\n      this.persist();\n    }\n    apply() {\n      const root = this.doc.documentElement;\n      // Clase para activar el tema oscuro (CSS en styles.css)\n      root.classList.toggle('app-theme-dark', this.dark);\n      // Color de texto elegido por el usuario\n      root.style.setProperty('--app-text', this.text);\n      root.style.setProperty('--bs-body-color', this.text); // clave para componentes Bootstrap\n      // Escala tipográfica global\n      root.style.setProperty('--app-font-scale', String(this.scale));\n    }\n    persist() {\n      localStorage.setItem('app.theme.dark', String(this.dark));\n      localStorage.setItem('app.theme.text', this.text);\n      localStorage.setItem('app.theme.scale', String(this.scale));\n    }\n    load() {\n      const d = localStorage.getItem('app.theme.dark');\n      const t = localStorage.getItem('app.theme.text');\n      const s = localStorage.getItem('app.theme.scale');\n      if (d !== null) this.dark = d === 'true';\n      if (t) this.text = t;\n      if (s && !isNaN(+s)) this.scale = +s;\n    }\n    static #_ = _staticBlock = () => (this.ɵfac = function ThemeService_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || ThemeService)(i0.ɵɵinject(DOCUMENT));\n    }, this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: ThemeService,\n      factory: ThemeService.ɵfac,\n      providedIn: 'root'\n    }));\n  }\n  _staticBlock();\n  return ThemeService;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}